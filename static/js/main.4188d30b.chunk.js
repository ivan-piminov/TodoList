(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(t,e,n){t.exports=n(59)},34:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(11),s=n.n(o);n(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(2),i=n(12),l=n(4),u=n(3),d=(n(9),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={error:!1,title:""},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemButtonClick()},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.onAddItemButtonClick=function(){var e=t.state.title;""!==e?(t.props.addItem(e),t.setState({error:!1,title:""})):t.setState({error:!0})},t.render=function(){var e=t.state.error?"error":"";return r.a.createElement("div",{className:"newItemForm"},r.a.createElement("input",{type:"text",placeholder:"New item name",className:e,onKeyPress:t.onKeyPress,value:t.state.title,onChange:t.onTitleChanged}),r.a.createElement("button",{onClick:t.onAddItemButtonClick},"Add"))},t}return n}(r.a.Component)),p=n(8),f=n(5),m=n.n(f),k=n(7),O=n(16),h=n(1),v=n(27),T=n.n(v).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"81fab503-698d-43e8-af57-37f0fdd7ac88"}}),b=function(t){return T.get("todo-lists/".concat(t,"/tasks"))},j=function(){return T.get("todo-lists")},g=function(t,e){return T.post("todo-lists/".concat(t,"/tasks"),{title:e})},E=function(t,e,n){var a=Object(h.a)(Object(h.a)({},e),n);return T.put("todo-lists/".concat(t,"/tasks/").concat(e.id),a)},A=function(t){return T.delete("todo-lists/"+t)},y=function(t,e){return T.delete("todo-lists/".concat(t,"/tasks/").concat(e))},w=function(t){return T.post("todo-lists",{title:t})},C=function(t,e){return T.put("todo-lists/".concat(e),{title:t})},I={todolists:[],loading:!1},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TASKS":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!==e.todolistId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:e.tasks})})});case"SET_TODOLISTS":return Object(h.a)(Object(h.a)({},t),{},{todolists:e.todolists.map(function(t){return Object(h.a)(Object(h.a)({},t),{},{loading:!0,tasks:[]})})});case"ADD_TODOLIST":return Object(h.a)(Object(h.a)({},t),{},{todolists:[Object(h.a)(Object(h.a)({},e.newtodoList),{},{tasks:[]})].concat(Object(O.a)(t.todolists))});case"ADD_TASK":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return e.todolistId===t.id?Object(h.a)(Object(h.a)({},t),{},{tasks:[e.newTask].concat(Object(O.a)(t.tasks))}):t})});case"CHANGE_TASK":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return null==t.tasks.find(function(t){return t.id==e.taskId})?t:Object(h.a)(Object(h.a)({},t),{},{tasks:t.tasks.map(function(t){return t.id!=e.taskId?t:Object(h.a)(Object(h.a)({},t),e.delta)})})})});case"DELETE_TODOLIST":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.filter(function(t){return t.id!=e.todolistId})});case"DELETE_TASK":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!=e.todolistId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:t.tasks.filter(function(t){return t.id!=e.taskId})})})});case"UPDATE_TODOLIST_TITLE":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!=e.todolistId?t:Object(h.a)(Object(h.a)({},t),{},{title:e.title})})});case"LOADING_TASKS":return Object(h.a)(Object(h.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!=e.todolistId?t:Object(h.a)(Object(h.a)({},t),{},{loading:e.isActive})})});case"LOADING_TODOLISTS":return Object(h.a)(Object(h.a)({},t),{},{loading:e.isActive})}return t},L=function(t){return{type:"ADD_TODOLIST",newtodoList:t}},D=function(t,e){return{type:"ADD_TASK",todolistId:t,newTask:e}},_=function(t,e,n){return{type:"CHANGE_TASK",taskId:e,delta:n}},F=function(t){return{type:"DELETE_TODOLIST",todolistId:t}},N=function(t,e){return{type:"DELETE_TASK",taskId:e,todolistId:t}},x=function(t){return{type:"SET_TODOLISTS",todolists:t}},K=function(t,e){return{type:"SET_TASKS",tasks:t,todolistId:e}},V=function(t,e){return{type:"UPDATE_TODOLIST_TITLE",title:t,todolistId:e}},H=function(t){return{type:"LOADING_TODOLISTS",isActive:t}},B=function(t,e){return{type:"LOADING_TASKS",isActive:t,todolistId:e}},G=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1},t.activateEdit=function(){t.setState({editMode:!0})},t.deActivateEdit=function(e){t.props.onChange(e.currentTarget.value),t.setState({editMode:!1})},t.render=function(){return r.a.createElement(r.a.Fragment,null,t.state.editMode?r.a.createElement("input",{defaultValue:t.props.value,autoFocus:!0,onBlur:t.deActivateEdit}):r.a.createElement("span",{onClick:t.activateEdit}," ",t.props.value))},t}return n}(r.a.Component),M=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).deleteTodoList=function(){t.props.deleteTodolist(t.props.id)},t.changeTitle=function(e){t.props.changeTodolistTitle(e,t.props.id)},t.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{value:t.props.title,onChange:t.changeTitle}),r.a.createElement("button",{onClick:t.deleteTodoList},"X"))},t}return n}(r.a.Component),P=Object(p.b)(null,{deleteTodolist:function(t){return function(){var e=Object(k.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:e.sent,n(F(t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},changeTodolistTitle:function(t,e){return function(){var n=Object(k.a)(m.a.mark(function n(a){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(t,e);case 2:n.sent,a(V(t,e));case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}})(M),U=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).render=function(){return r.a.createElement("div",{className:""},r.a.createElement("div",{className:"todoList-header"},r.a.createElement(P,{id:t.props.id,title:t.props.title}),r.a.createElement(d,{addItem:t.props.addTask})))},t}return n}(r.a.Component),J=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).updateTaskTitle=function(e){t.props.changeTitle(t.props.task,t.props.task.id,e)},t.onIsDoneChanged=function(e){t.props.changeStatus(t.props.task,t.props.task.id,e.currentTarget.checked)},t.deleteTask=function(e,n){t.props.deleteTask(e,n)},t.render=function(){var e=2===t.props.task.status,n=e?"todoList-task done":"todoList-task";return r.a.createElement("div",{className:"todoList-tasks"},r.a.createElement("div",{className:n},r.a.createElement("input",{type:"checkbox",checked:e,onChange:t.onIsDoneChanged}),r.a.createElement(G,{value:t.props.task.title,onChange:t.updateTaskTitle}),r.a.createElement("span",null," priority ",t.props.task.priority,r.a.createElement("button",{onClick:function(){t.deleteTask(t.props.todolistId,t.props.task.id)}},"X"))))},t}return n}(r.a.Component),W=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).render=function(){var e=t.props.tasks.map(function(e){return r.a.createElement(J,{changeStatus:t.props.changeStatus,changeTitle:t.props.changeTitle,deleteTask:t.props.deleteTask,todolistId:t.props.todolistId,task:e})});return r.a.createElement("div",{className:""},e)},t}return n}(r.a.Component),X=Object(p.b)(null,{deleteTask:function(t,e){return function(){var n=Object(k.a)(m.a.mark(function n(a){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(t,e);case 2:n.sent,a(N(t,e));case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}})(W),R=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(){t.setState({isHidden:!1})},t.onHideFiltersClick=function(){t.setState({isHidden:!0})},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"",n="Completed"===t.props.filterValue?"filter-active":"",a="Active"===t.props.filterValue?"filter-active":"";return r.a.createElement("div",{className:""},r.a.createElement("div",{className:"todoList-footer"},!t.state.isHidden&&r.a.createElement("div",null,r.a.createElement("button",{className:e,onClick:t.onAllFilterClick},"All"),r.a.createElement("button",{className:n,onClick:t.onCompletedFilterClick},"Completed"),r.a.createElement("button",{className:a,onClick:t.onActiveFilterClick},"Active")),!t.state.isHidden&&r.a.createElement("span",{onClick:t.onHideFiltersClick}," hide "),t.state.isHidden&&r.a.createElement("span",{onClick:t.onShowFiltersClick}," show ")))},t}return n}(r.a.Component),Y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={filterValue:"All"},t.addTask=function(e){t.props.addTask(t.props.id,e)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeTask=function(e,n,a){t.props.changeTask(t.props.id,n,e,a)},t.changeStatus=function(e,n,a){t.changeTask(e,n,{status:a?2:0})},t.changeTitle=function(e,n,a){t.changeTask(e,n,{title:a})},t.render=function(){return r.a.createElement("div",{className:"todoList"},r.a.createElement(U,{id:t.props.id,addTask:t.addTask,title:t.props.title}),t.props.todolist.loading?r.a.createElement("span",null,"...Loading"):r.a.createElement(X,{changeStatus:t.changeStatus,changeTitle:t.changeTitle,todolistId:t.props.id,tasks:t.props.tasks.filter(function(e){return"All"===t.state.filterValue||("Completed"===t.state.filterValue?2===e.status:"Active"===t.state.filterValue?2!==e.status:void 0)})}),r.a.createElement(R,{filterValue:t.state.filterValue,changeFilter:t.changeFilter}))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.loadTasks(this.props.id)}}]),n}(r.a.Component),$=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).addToDoList=function(e){t.props.addTodolist(e)},t.render=function(){var e=t.props.todolists.map(function(e){return r.a.createElement(Y,{todolist:e,key:e.id,id:e.id,title:e.title,tasks:e.tasks,addTask:t.props.addTask,changeTask:t.props.changeTask,loadTasks:t.props.loadTasks})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(d,{addItem:t.addToDoList})),r.a.createElement("div",{className:"App"},t.props.loading?r.a.createElement("span",null,"...Loading"):e))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.loadTodoLists()}}]),n}(r.a.Component),q=Object(p.b)(function(t){return{todolists:t.todolist.todolists,loading:t.todolist.loading}},{addTask:function(t,e){return function(){var n=Object(k.a)(m.a.mark(function n(a){var r;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(t,e);case 2:r=n.sent,a(D(t,r.data.data.item));case 4:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},changeTask:function(t,e,n,a){return function(){var r=Object(k.a)(m.a.mark(function r(o){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E(t,n,a);case 2:r.sent,o(_(t,e,a));case 4:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}()},loadTodoLists:function(){return function(){var t=Object(k.a)(m.a.mark(function t(e){var n,a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(H(!0)),t.next=3,j();case 3:n=t.sent,a=x(n.data),e(a),e(H(!1));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},loadTasks:function(t){return function(){var e=Object(k.a)(m.a.mark(function e(n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(B(!0,t)),e.next=3,b(t);case 3:a=e.sent,n(K(a.data.items,t)),n(B(!1,t));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},addTodolist:function(t){return function(){var e=Object(k.a)(m.a.mark(function e(n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:a=e.sent,n(L(a.data.data.item));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})($),z=n(10),Q=n(28),Z=Object(z.c)({todolist:S}),tt=Object(z.d)(Z,Object(z.a)(Q.a));s.a.render(r.a.createElement(p.a,{store:tt},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){}},[[29,1,2]]]);
//# sourceMappingURL=main.4188d30b.chunk.js.map